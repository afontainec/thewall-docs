<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Overview | Chinchay Docs</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.ab30e0ca.css" as="style"><link rel="preload" href="/assets/js/app.2773cf3e.js" as="script"><link rel="preload" href="/assets/js/2.3f720234.js" as="script"><link rel="preload" href="/assets/js/26.9965863d.js" as="script"><link rel="prefetch" href="/assets/js/10.1edc54dd.js"><link rel="prefetch" href="/assets/js/11.2f00b1d8.js"><link rel="prefetch" href="/assets/js/12.1f05b6b4.js"><link rel="prefetch" href="/assets/js/13.c98ba095.js"><link rel="prefetch" href="/assets/js/14.1b2b2c75.js"><link rel="prefetch" href="/assets/js/15.702d946e.js"><link rel="prefetch" href="/assets/js/16.a41c1694.js"><link rel="prefetch" href="/assets/js/17.335d4649.js"><link rel="prefetch" href="/assets/js/18.23ce0973.js"><link rel="prefetch" href="/assets/js/19.aa8171a6.js"><link rel="prefetch" href="/assets/js/20.fcee7802.js"><link rel="prefetch" href="/assets/js/21.84451ad4.js"><link rel="prefetch" href="/assets/js/22.ca5d3982.js"><link rel="prefetch" href="/assets/js/23.d5279137.js"><link rel="prefetch" href="/assets/js/24.41953457.js"><link rel="prefetch" href="/assets/js/25.6f8b54bd.js"><link rel="prefetch" href="/assets/js/27.5c297913.js"><link rel="prefetch" href="/assets/js/28.cc8160a1.js"><link rel="prefetch" href="/assets/js/29.3a7bb5f9.js"><link rel="prefetch" href="/assets/js/3.6a2b7fa3.js"><link rel="prefetch" href="/assets/js/30.42d9cb16.js"><link rel="prefetch" href="/assets/js/31.071fae85.js"><link rel="prefetch" href="/assets/js/32.9325ffa2.js"><link rel="prefetch" href="/assets/js/33.4af5988e.js"><link rel="prefetch" href="/assets/js/34.c865156d.js"><link rel="prefetch" href="/assets/js/35.d3ce8ef4.js"><link rel="prefetch" href="/assets/js/36.11f74532.js"><link rel="prefetch" href="/assets/js/4.1b09c2c5.js"><link rel="prefetch" href="/assets/js/5.5c4c1fbb.js"><link rel="prefetch" href="/assets/js/6.b0461825.js"><link rel="prefetch" href="/assets/js/7.3211b211.js"><link rel="prefetch" href="/assets/js/8.a7dcf5bf.js"><link rel="prefetch" href="/assets/js/9.0aa8bee1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ab30e0ca.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Chinchay Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/gettingstarted/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/docs/" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/models/" class="nav-link">
  The Model
</a></div><div class="nav-item"><a href="/middleware/" class="nav-link router-link-active">
  Middleware
</a></div><div class="nav-item"><a href="/errorhandler/" class="nav-link">
  Error Handler
</a></div><div class="nav-item"><a href="/collaborate/" class="nav-link">
  Collaborate!
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/gettingstarted/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/docs/" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/models/" class="nav-link">
  The Model
</a></div><div class="nav-item"><a href="/middleware/" class="nav-link router-link-active">
  Middleware
</a></div><div class="nav-item"><a href="/errorhandler/" class="nav-link">
  Error Handler
</a></div><div class="nav-item"><a href="/collaborate/" class="nav-link">
  Collaborate!
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/middleware/access.html" class="sidebar-link">Access</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/middleware/access.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/middleware/access.html#configure" class="sidebar-link">Configure</a></li><li class="sidebar-sub-header"><a href="/middleware/access.html#isadmin" class="sidebar-link">isAdmin</a></li><li class="sidebar-sub-header"><a href="/middleware/access.html#hasaccesstoall" class="sidebar-link">hasAccessToAll</a></li><li class="sidebar-sub-header"><a href="/middleware/access.html#accessiblesids" class="sidebar-link">accessiblesIds</a></li><li class="sidebar-sub-header"><a href="/middleware/access.html#addaccessibletosearch" class="sidebar-link">addAccessibleToSearch</a></li><li class="sidebar-sub-header"><a href="/middleware/access.html#find" class="sidebar-link">find</a></li><li class="sidebar-sub-header"><a href="/middleware/access.html#hasaccessto" class="sidebar-link">hasAccessTo</a></li><li class="sidebar-sub-header"><a href="/middleware/access.html#generatetoken" class="sidebar-link">generateToken</a></li><li class="sidebar-sub-header"><a href="/middleware/access.html#token-encryption" class="sidebar-link">Token Encryption</a></li></ul></li><li><a href="/middleware/middleware.html" class="sidebar-link">Middleware</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/middleware/middleware.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/middleware/middleware.html#hasaccess" class="sidebar-link">hasAccess</a></li><li class="sidebar-sub-header"><a href="/middleware/middleware.html#configuring-prerouting-and-postrouting" class="sidebar-link">Configuring: prerouting and postrouting</a></li><li class="sidebar-sub-header"><a href="/middleware/middleware.html#automating-with-cli-the-middleware-flag" class="sidebar-link">Automating with CLI: the middleware flag</a></li><li class="sidebar-sub-header"><a href="/middleware/middleware.html#token-encryption" class="sidebar-link">Token Encryption</a></li><li class="sidebar-sub-header"><a href="/middleware/middleware.html#token-expiration-date" class="sidebar-link">Token Expiration Date</a></li></ul></li><li><a href="/middleware/http-response.html" aria-current="page" class="active sidebar-link">httpResponse</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/middleware/http-response.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/middleware/http-response.html#success" class="sidebar-link">Success</a></li><li class="sidebar-sub-header"><a href="/middleware/http-response.html#error" class="sidebar-link">Error</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p><code>httpResponse</code> will be responsible to generate the response for every http Request. It has two methods, <code>success</code> for when everything went right and <code>error</code> for when an error occurred.</p> <h2 id="success"><a href="#success" class="header-anchor">#</a> Success</h2> <h3 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h3> <ul><li>text: friendly message indicating the response.</li> <li>keys: Array of keys that the response is expected to have. Optionally, if it is only one key it can be passed as string.</li> <li>values: Array of values that the response is expected to have. Value n will be assigned to key n.</li></ul> <h3 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&gt;</span> httpResponse<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'ok'</span><span class="token punctuation">,</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> username<span class="token operator">:</span> <span class="token string">'example'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">'ok'</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> username<span class="token operator">:</span> <span class="token string">'example'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&gt;</span> httpResponse<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'ok'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'user'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> username<span class="token operator">:</span> <span class="token string">'example'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">'ok'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> username<span class="token operator">:</span> <span class="token string">'example'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre></div><h2 id="error"><a href="#error" class="header-anchor">#</a> Error</h2> <h3 id="parameters-2"><a href="#parameters-2" class="header-anchor">#</a> Parameters</h3> <ul><li>error: friendly message indicating the error.</li> <li>fullMessage: Complete message indicating the error. It is intended only for development purpose, in production will be ignored.</li> <li>code: The http status code that will be returned, in case of 500 the first parameter will be forced to 'Internal Server Error'</li></ul> <h3 id="examples-2"><a href="#examples-2" class="header-anchor">#</a> Examples</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> error <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'username not found'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> httpResponse<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'There is no user for the given username'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token string">'There is no user for the given username'</span><span class="token punctuation">,</span>
fullError<span class="token operator">:</span>
 Error<span class="token operator">:</span> username not found
     at Module<span class="token punctuation">.</span><span class="token function">_compile</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>loader<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">701</span><span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">)</span>
     at Object<span class="token punctuation">.</span>Module<span class="token punctuation">.</span>_extensions<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">js</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>loader<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">712</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">)</span>
     at Module<span class="token punctuation">.</span><span class="token function">load</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>loader<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">600</span><span class="token operator">:</span><span class="token number">32</span><span class="token punctuation">)</span>
     at <span class="token function">tryModuleLoad</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>loader<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">539</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">)</span>
     at Function<span class="token punctuation">.</span>Module<span class="token punctuation">.</span><span class="token function">_load</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>loader<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">531</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span>
     at Function<span class="token punctuation">.</span>Module<span class="token punctuation">.</span><span class="token function">runMain</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>loader<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">754</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">)</span>
     at <span class="token function">startup</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>bootstrap<span class="token operator">/</span>node<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">283</span><span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">)</span>
     at <span class="token function">bootstrapNodeJSCore</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>bootstrap<span class="token operator">/</span>node<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">622</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> error <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'username not found'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> httpResponse<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'There is no user for the given username'</span><span class="token punctuation">,</span> error<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token string">'Internal Server Error'</span><span class="token punctuation">,</span>
fullError<span class="token operator">:</span>
 Error<span class="token operator">:</span> username not found
     at Module<span class="token punctuation">.</span><span class="token function">_compile</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>loader<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">701</span><span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">)</span>
     at Object<span class="token punctuation">.</span>Module<span class="token punctuation">.</span>_extensions<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">js</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>loader<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">712</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">)</span>
     at Module<span class="token punctuation">.</span><span class="token function">load</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>loader<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">600</span><span class="token operator">:</span><span class="token number">32</span><span class="token punctuation">)</span>
     at <span class="token function">tryModuleLoad</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>loader<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">539</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">)</span>
     at Function<span class="token punctuation">.</span>Module<span class="token punctuation">.</span><span class="token function">_load</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>loader<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">531</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span>
     at Function<span class="token punctuation">.</span>Module<span class="token punctuation">.</span><span class="token function">runMain</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>modules<span class="token operator">/</span>cjs<span class="token operator">/</span>loader<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">754</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">)</span>
     at <span class="token function">startup</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>bootstrap<span class="token operator">/</span>node<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">283</span><span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">)</span>
     at <span class="token function">bootstrapNodeJSCore</span> <span class="token punctuation">(</span>internal<span class="token operator">/</span>bootstrap<span class="token operator">/</span>node<span class="token punctuation">.</span>js<span class="token operator">:</span><span class="token number">622</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
</code></pre></div><p>As the code is set to 500, <code>error</code> is overwritten, this is to protect unwanted message leaking to clients.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">=</span> <span class="token string">'production'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> error <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'username not found'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> httpResponse<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'There is no user for the given username'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token string">'There is no user for the given username'</span> <span class="token punctuation">}</span>
</code></pre></div><p>As the environment is set to production, no <code>fullError</code> is given.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/middleware/middleware.html" class="prev">
        Middleware
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2773cf3e.js" defer></script><script src="/assets/js/2.3f720234.js" defer></script><script src="/assets/js/26.9965863d.js" defer></script>
  </body>
</html>
