(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{366:function(t,a,e){"use strict";e.r(a);var n=e(26),s=Object(n.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"getting-started-with-chinchay-angular"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getting-started-with-chinchay-angular"}},[t._v("#")]),t._v(" Getting Started with Chinchay + Angular")]),t._v(" "),e("h3",{attrs:{id:"overview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),e("p",[t._v("For this tutorial we will have two servers running at the same time. One with the backend and another running the Angular app.")]),t._v(" "),e("h2",{attrs:{id:"backend-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#backend-server"}},[t._v("#")]),t._v(" Backend Server")]),t._v(" "),e("p",[t._v("For the backend server, follow "),e("RouterLink",{attrs:{to:"/gettingstarted/ejs.html"}},[t._v("the getting started ")]),t._v(". The only difference, is when running the chinchay new command, you can add the flag "),e("code",[t._v("--frontend disable")]),t._v(" as follows:")],1),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ chinchay new coffee --frontend disable\n")])])]),e("p",[t._v("This will not create the ejs files. We will not be needing them, we are going to do the frontend with Angular.")]),t._v(" "),e("p",[t._v("For this tutorial we will need to add one more thing, we need to configure the backend so that it will not block the frontend due to CORS. If you do not know what this is you can read "),e("a",{attrs:{href:"https://www.codecademy.com/articles/what-is-cors",target:"_blank",rel:"noopener noreferrer"}},[t._v("this blog"),e("OutboundLink")],1),t._v(", but in short, by default the server will block any request that comes from another app. Therefore, it will block the requests of the frontend. On the backend, we add the following to our app.js. It's important that this should be defined "),e("em",[t._v("BEFORE")]),t._v(" we indicate the app to use the coffeeAPI routes.")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("  app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("header")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Access-Control-Allow-Origin'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("header")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Access-Control-Allow-Headers'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Origin, X-Requested-With, Content-Type, Accept'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Let's go and run the backend, run the following command on the backend directory:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ npm start\n")])])]),e("h2",{attrs:{id:"angular-app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#angular-app"}},[t._v("#")]),t._v(" Angular App")]),t._v(" "),e("p",[t._v("Next, we need to create an Angular app. We need to install the "),e("a",{attrs:{href:"https://angular.io/cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("Angular cli"),e("OutboundLink")],1),t._v(".\nIf you do not have it go and run:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ npm install -g @angular/cli\n")])])]),e("p",[e("em",[t._v("NOTE")]),t._v(": You will need to have "),e("a",{attrs:{href:"https://www.npmjs.com/get-npm",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm"),e("OutboundLink")],1),t._v(" installed.")]),t._v(" "),e("p",[t._v("Then we simply create the angular app called testChinchayAngular")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ ng new testChinchayAngular\n$ cd testChinchayAngular\n")])])]),e("p",[t._v("A prompt asking if you like to add the angular routing will show, press "),e("code",[t._v("y")]),t._v(" to confirm. Then select the stylesheet format of your preference. We will use CSS.")]),t._v(" "),e("p",[t._v("We are now ready to run our chinchay command.")]),t._v(" "),e("h2",{attrs:{id:"chinchay"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#chinchay"}},[t._v("#")]),t._v(" Chinchay")]),t._v(" "),e("p",[t._v("We install chinchay:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ npm install chinchay -s\n$ npm install chinchay -g\n")])])]),e("p",[t._v("Then we simply run the command to create all the views and logic to work with the "),e("code",[t._v("coffee")]),t._v(" relation of the backend:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ chinchay new coffee --frontend angular --backend disable\n")])])]),e("p",[t._v("Note we are indicating the frontend is angular and that no backend files should be created.")]),t._v(" "),e("p",[t._v("This will create a coffee directory within src/app. This will include:")]),t._v(" "),e("ul",[e("li",[t._v("Index component: Where a list of all the coffees will display.")]),t._v(" "),e("li",[t._v("New component: To create a new coffee.")]),t._v(" "),e("li",[t._v("Edit component: To edit an existing coffee.")]),t._v(" "),e("li",[t._v("Show component: To view a coffee and it's properties.")]),t._v(" "),e("li",[t._v("Service: For connecting with the backend, to create, edit or retrieve data.")]),t._v(" "),e("li",[t._v("Router: Configuration for the routes.")]),t._v(" "),e("li",[t._v("Module: Module that will hold all the components and routing.")])]),t._v(" "),e("br"),t._v(" "),e("p",[t._v("Next, we will add the generated module to the app. In the app.module.ts file, found within the src/app directory, we will add the "),e("code",[t._v("CoffeeModule")]),t._v(" to the imports:")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CoffeeModule "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./coffee/coffee.module'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" BrowserModule "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@angular/platform-browser'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" NgModule "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@angular/core'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" AppRoutingModule "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./app-routing.module'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" AppComponent "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./app.component'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NgModule")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  declarations"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    AppComponent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  imports"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    BrowserModule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    AppRoutingModule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    CoffeeModule\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  providers"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  bootstrap"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("AppComponent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppModule")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),e("h2",{attrs:{id:"connecting-backend-and-frontend"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#connecting-backend-and-frontend"}},[t._v("#")]),t._v(" Connecting Backend and Frontend")]),t._v(" "),e("p",[t._v("To connect the backend to the frontend we need to configure one more thing. In the file src/environments/environment.ts we need to add the variable "),e("code",[t._v("backend = http://localhost:3000")]),t._v(". This will indicate that the backend is running in the port 3000 of our machine.")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" environment "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  production"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  backend"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:3000'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"running-the-app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#running-the-app"}},[t._v("#")]),t._v(" Running the app")]),t._v(" "),e("p",[t._v("Now we are ready to run our app! We run:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ ng serve\n")])])]),e("p",[t._v("This will make our app run on "),e("a",{attrs:{href:"localhost:4200"}},[t._v("localhost:4200")]),t._v(".")]),t._v(" "),e("p",[t._v("Well, when you visit your app you get an Angular default webpage... To remove it, we go to "),e("code",[t._v("src/app/app.component.html")]),t._v(" and leave only the router-outlet.")]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("router-outlet")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("router-outlet")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("p",[t._v("Now we reload, and get an empty page. But let's navigate to "),e("a",{attrs:{href:"localhost:4200"}},[t._v("localhost:4200/coffee")]),t._v(" and we will see all our coffees! Go ahead and create more coffees!")]),t._v(" "),e("p",[t._v("Important: remember that the backend must be running!")]),t._v(" "),e("p",[t._v("Enjoy!")]),t._v(" "),e("p",[t._v("For more information to work around Chinchay CLI:")]),t._v(" "),e("p",[e("RouterLink",{attrs:{to:"/docs/cli.html"}},[t._v("See the Command Line Interface Documentation!")])],1)])}),[],!1,null,null,null);a.default=s.exports}}]);