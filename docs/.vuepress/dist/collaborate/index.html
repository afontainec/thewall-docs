<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chinchay Docs</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.ab30e0ca.css" as="style"><link rel="preload" href="/assets/js/app.2773cf3e.js" as="script"><link rel="preload" href="/assets/js/2.3f720234.js" as="script"><link rel="preload" href="/assets/js/6.b0461825.js" as="script"><link rel="prefetch" href="/assets/js/10.1edc54dd.js"><link rel="prefetch" href="/assets/js/11.2f00b1d8.js"><link rel="prefetch" href="/assets/js/12.1f05b6b4.js"><link rel="prefetch" href="/assets/js/13.c98ba095.js"><link rel="prefetch" href="/assets/js/14.1b2b2c75.js"><link rel="prefetch" href="/assets/js/15.702d946e.js"><link rel="prefetch" href="/assets/js/16.a41c1694.js"><link rel="prefetch" href="/assets/js/17.335d4649.js"><link rel="prefetch" href="/assets/js/18.23ce0973.js"><link rel="prefetch" href="/assets/js/19.aa8171a6.js"><link rel="prefetch" href="/assets/js/20.fcee7802.js"><link rel="prefetch" href="/assets/js/21.84451ad4.js"><link rel="prefetch" href="/assets/js/22.ca5d3982.js"><link rel="prefetch" href="/assets/js/23.d5279137.js"><link rel="prefetch" href="/assets/js/24.41953457.js"><link rel="prefetch" href="/assets/js/25.6f8b54bd.js"><link rel="prefetch" href="/assets/js/26.9965863d.js"><link rel="prefetch" href="/assets/js/27.5c297913.js"><link rel="prefetch" href="/assets/js/28.cc8160a1.js"><link rel="prefetch" href="/assets/js/29.3a7bb5f9.js"><link rel="prefetch" href="/assets/js/3.6a2b7fa3.js"><link rel="prefetch" href="/assets/js/30.42d9cb16.js"><link rel="prefetch" href="/assets/js/31.071fae85.js"><link rel="prefetch" href="/assets/js/32.9325ffa2.js"><link rel="prefetch" href="/assets/js/33.4af5988e.js"><link rel="prefetch" href="/assets/js/34.c865156d.js"><link rel="prefetch" href="/assets/js/35.d3ce8ef4.js"><link rel="prefetch" href="/assets/js/36.11f74532.js"><link rel="prefetch" href="/assets/js/4.1b09c2c5.js"><link rel="prefetch" href="/assets/js/5.5c4c1fbb.js"><link rel="prefetch" href="/assets/js/7.3211b211.js"><link rel="prefetch" href="/assets/js/8.a7dcf5bf.js"><link rel="prefetch" href="/assets/js/9.0aa8bee1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ab30e0ca.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Chinchay Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/gettingstarted/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/docs/" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/models/" class="nav-link">
  The Model
</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">
  Middleware
</a></div><div class="nav-item"><a href="/errorhandler/" class="nav-link">
  Error Handler
</a></div><div class="nav-item"><a href="/collaborate/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Collaborate!
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/gettingstarted/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/docs/" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/models/" class="nav-link">
  The Model
</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">
  Middleware
</a></div><div class="nav-item"><a href="/errorhandler/" class="nav-link">
  Error Handler
</a></div><div class="nav-item"><a href="/collaborate/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Collaborate!
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p><img src="https://chinchay-docs.herokuapp.com/assets/logo.png" alt="Chinchay"></p> <p>Welcome to <strong>Chinchay Collaborate</strong></p> <p>This section is intended to help you (or anyone) to become part of the Chinchay Community! Chinchay is a beginners friendly environment, if you have any doubt just contact me: <a href="antonio.fontainecorrea@gmail.com">antonio.fontainecorrea@gmail.com</a>.</p> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p>The <a href="https://github.com/afontainec/chinchay" target="_blank" rel="noopener noreferrer">Chinchay Repo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is hosted in github.</p> <ul><li><a href="https://github.com/afontainec/chinchay" target="_blank" rel="noopener noreferrer">Github Repository<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/afontainec/chinchay/issues" target="_blank" rel="noopener noreferrer">Issues<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/afontainec/chinchay/pulls" target="_blank" rel="noopener noreferrer">Pull Requests<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>Pull Request are welcome. For major changes, please open an issue first to discuss what you would like to change. Please make sure to update tests appropriately.</p> <p>If you want to help but don't know how, contact me <a href="antonio.fontainecorrea@gmail.com">antonio.fontainecorrea@gmail.com</a> and we will discuss which functionalities of the backlog you can help with.</p> <h2 id="continuous-integration"><a href="#continuous-integration" class="header-anchor">#</a> Continuous Integration</h2> <p>For any pull request to be approved will require for the test to pass with a minimum coverage. Moreover the linter will be checked. Linter warnings are allowed but non-preferred.</p> <p>To locally check this run:</p> <div class="language- extra-class"><pre class="language-text"><code>npm run test
npm run coverage
npm run linter
</code></pre></div><h2 id="commit"><a href="#commit" class="header-anchor">#</a> commit</h2> <p>For commits, we follow <a href="https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#commits" target="_blank" rel="noopener noreferrer">this guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>But in a nutshell every commit must be as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>git commit -m 'type(context): description
</code></pre></div><p>or</p> <div class="language- extra-class"><pre class="language-text"><code>git commit -m 'type(context/subcontext): description
</code></pre></div><p><em>Type</em> should answer why are you committing. Choose one of the following:</p> <ul><li><strong>feat:</strong> A new feature</li> <li><strong>fix:</strong> A bug fix</li> <li><strong>docs:</strong> Documentation only changes</li> <li><strong>style:</strong> Changes that do not affect the meaning of the code (white-space, formatting, missing semicolons, etc)</li> <li><strong>refactor:</strong> A code change that neither fixes a bug nor adds a feature</li> <li><strong>perf:</strong> A code change that improves performance</li> <li><strong>test:</strong> Adding missing or correcting existing tests</li> <li><strong>chore:</strong> Changes to the build process or auxiliary tools and libraries such as documentation generation</li></ul> <p><em>Context</em>, or also called scope is what you are working on? In which component, functionality or subdivision of the app are you working on. Optionally you can add a <em>subcontext</em>, for giving a more detailed information.</p> <p><em>Description</em> A description of what you are working on, it should be short. All together the commit shouldn't have more than 100 characters.</p> <h2 id="file-structure"><a href="#file-structure" class="header-anchor">#</a> File Structure</h2> <p>To get you started the file structure is as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>  .
  ├── chinchapp                  
  ├── cliApp       
  ├── db   
  ├── example              
  ├── models
  └── test
</code></pre></div><p>There are more files and directories but this is the &quot;main skeleton&quot;. Let's dig into each directory:</p> <h3 id="chinchapp"><a href="#chinchapp" class="header-anchor">#</a> chinchapp</h3> <p>If you look into de <code>.gitignore</code>, you may notice the content of chinchapp is ignored. So actually this isn't a fundamental part of the package. But is useful for development and debugging. Look at <a href="#running-locally-and-debugging">Running Locally and Debugging</a> for further information.</p> <h3 id="cliapp"><a href="#cliapp" class="header-anchor">#</a> cliApp</h3> <p>Next in line is the cliApp, here is all the code in charge of handling the Command Line Interface (CLI). If we look at the package.json we will see the following:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token string">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;chinchay&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./cliApp/lector.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>So when we are indicating that when someone rans <code>chinchay</code> in the terminal the file <code>cliApp/lector.js</code> will be invoked.</p> <p>The logic within this module is quite simple:</p> <ol><li><code>lector.js</code> receives the command written by a user in the command line and invokes the corresponding function of the <code>interpreter.js</code></li> <li><code>interpreter.js</code> interprets the user input and decides what should be done.</li> <li>The rest of the files are the ones that actually <strong>do the thing</strong>.</li></ol> <p>If we would have to do a parallel to a web app, the <code>lector.js</code> would be the <code>router</code>, the <code>interpreter</code> the <code>controller</code> and the rest are the <code>models</code>.</p> <p>Full disclosure, this is not the tidiest part of the package and if you are looking where you could help, this is a strong candidate!</p> <h3 id="db"><a href="#db" class="header-anchor">#</a> db</h3> <p>There isn't much to tell about this directory, is where the migrations and seeds for the database are defined. If by this point you are thinking why on earth does Chinchay need a database for? Well actually it doesn't! The database is just for testing and developing.</p> <h3 id="example"><a href="#example" class="header-anchor">#</a> example</h3> <p><code>example</code> is where all the templates of the files generated by the CLI are. These templates are 'compiled', where the in-text variables are changed by what the user defines. Each in-text variable is delimited by the $ character. For example:</p> <div class="language- extra-class"><pre class="language-text"><code>  This is $VARIABLE$
</code></pre></div><p>If, when compiled a <code>VARIABLE</code> key is passed, the in-text variable will be changed. For instance:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  fileCreator<span class="token punctuation">.</span><span class="token function">compileString</span><span class="token punctuation">(</span><span class="token string">'this is  $VARIABLE$'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token constant">VARIABLE</span><span class="token operator">:</span> <span class="token string">'Chinchay!'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token operator">&gt;&gt;</span> <span class="token string">'This is a Chinchay'</span>
</code></pre></div><h3 id="models"><a href="#models" class="header-anchor">#</a> models</h3> <p>This is the most interesting part of Chinchay. Here is where all the magic happens.</p> <ul><li>accessToken: This file holds the functions for creating and decrypting the accessToken. It does assumes the token is present as Bearer Token.</li> <li>middleware: In charge of filtering that each request to the server holds a valid authentication and that has access to the endpoint requested. Works hand by hand with <a href="https://www.npmjs.com/package/thewall" target="_blank" rel="noopener noreferrer">TheWall<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li> <li>access: Functions to help you filter and define which users can access which data.</li> <li>chinchayError: Especial error generated by chinchay, works with the ErrorHandler.</li> <li>ErrorHandler: In charge of mapping the errors that occurred in the server to http status codes and human-readable messages. Works hand by hand with the ChinchayError.</li> <li>hateoas: Hateoas generator to add hateoas to your API.</li> <li>table: The class from which every table gateway model extends. It holds all the code to do CRUD operations. This is the most complete model of all.</li></ul> <h3 id="test"><a href="#test" class="header-anchor">#</a> test</h3> <p>Here all the tests are located. As a general guidance, each function is tested in one file, each file holds all the tests of that function. The relative path to this test file, from the test folder, is equivalent to the relative path from the base of the repo to where that function is located.</p> <p>For example, the function <code>isAdmin</code> of the file <code>models/access.js</code> is located at:
<code>test/models/access/isAdmin.js</code></p> <h2 id="running-locally-and-debugging"><a href="#running-locally-and-debugging" class="header-anchor">#</a> Running Locally and Debugging</h2> <p>For debugging and developing first of all you must have postgreSQL running on your computer. Create a database called <code>chinchay_test</code>. Once the database is created, migrate it:</p> <div class="language- extra-class"><pre class="language-text"><code>npm i knex -g # install knex globally
knex migrate:latest --env test
</code></pre></div><p>By running the previous commands on the repo it should run all the migrations needed to run the tests. For more guidance see the <a href="../gettingstarted/ejs">Getting Started Tutorial</a>.</p> <h3 id="creating-an-app-for-debugging"><a href="#creating-an-app-for-debugging" class="header-anchor">#</a> Creating an App for Debugging</h3> <p>If you need a running chinchay app, just build one in the chinchapp folder. Note that all it's content is ignored in the .gitignore file. I personally have a functional Angular app there working with Chinchay, however feel free to do the app that best fits your needs! As it is in the .gitignore only you will see it!</p> <h2 id="documentation"><a href="#documentation" class="header-anchor">#</a> Documentation</h2> <p>The documentation lives in <a href="https://github.com/afontainec/chinchay-docs" target="_blank" rel="noopener noreferrer">this repo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. For every functionality you do develop the corresponding documentation must be added, otherwise the pull request will not be approved. Actually this same text is written in that repo! It is built with vuepress.</p> <h3 id="versioning"><a href="#versioning" class="header-anchor">#</a> Versioning</h3> <p>It is important to note that since version 2.0.0 the version of chinchay and chinchay-docs is synchronized. Therefore version 2.0.0 of the chinchay-docs documents chinchay@2.0.0.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2773cf3e.js" defer></script><script src="/assets/js/2.3f720234.js" defer></script><script src="/assets/js/6.b0461825.js" defer></script>
  </body>
</html>
